---
title: 'Linux中[]和[[]]区别'
mathjax: true
toc: true
date: 2022-08-27 16:22:31
updated: 2022-08-27 16:22:31
categories:
- OS
tags:
- Linux
---

## []
* 比较运算符只有==和!=，两者都是用于字符串比较的，不可用于整数比较，整数比较只能使用-eq，-gt这种形式。无论是字符串比较还是整数比较都不支持><。如果实在想用，对于字符串比较可以使用转义形式，如果比较"ab"和"bc"：[ ab \< bc ]。使用-a 和-o 表示逻辑与和逻辑或。

## [[]]
* 使用[[ ... ]]条件判断结构，而不是[ ... ]，能够防止脚本中的许多逻辑错误。比如，&&、||、<和> 操作符能够正常存在于[[ ]]条件判断结构中，但是如果出现在[ ]结构中的话，会报错。比如可以直接使用`if [[ $a != 1 && $a != 2 ]]`, 如果不适用双括号, 则为`if [ $a -ne 1] && [ $a != 2 ]`或者`if [ $a -ne 1 -a $a != 2 ]`。
  
## 总结
条件判断中推荐使用[[]]，功能强大，且与编程语言规则保持一致。另外，不管在[]还是[[]]下，=和==等价，推荐使用后者。

___

## 参考
- [Shell test 单中括号[] 双中括号[[]] 的区别](https://www.cnblogs.com/zeweiwu/p/5485711.html)
- [shell 中各种括号的作用()、(())、[]、[[]]、{}](https://www.runoob.com/w3cnote/linux-shell-brackets-features.html)